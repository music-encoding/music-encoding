<?xml version="1.0" encoding="UTF-8"?>
<!-- 
  NOTICE: Copyright (c) by the Music Encoding Initiative (MEI) Board (formerly known as "MEI Council").

  Licensed under the Educational Community License, Version 2.0 (the "License"); you may
  not use this file except in compliance with the License. You may obtain a copy of the License
  at https://opensource.org/licenses/ECL-2.0.
  
  Unless required by applicable law or agreed to in writing, software distributed under the
  License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
  OF ANY KIND, either express or implied. See the License for the specific language
  governing permissions and limitations under the License.
  
  This is a derivative work based on earlier versions of the schema © 2001-2006 Perry Roland
  and the Rector and Visitors of the University of Virginia; licensed under the Educational
  Community License version 1.0.
  
  CONTACT: info@music-encoding.org
-->
<?xml-model href="../validation/mei_odds.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="../validation/mei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<TEI xmlns:rng="http://relaxng.org/ns/structure/1.0"
     xmlns:sch="http://purl.oclc.org/dsdl/schematron"
     xmlns="http://www.tei-c.org/ns/1.0"
     version="5.0"
     rend="book"
     xml:lang="en">
   <teiHeader>
      <fileDesc>
         <titleStmt>
            <title level="s">The Music Encoding Initiative Guidelines</title>
            <title level="a">Analysis Markup and Harmonies</title>
            <respStmt>
               <resp>Edited by</resp>
               <name role="edt">Fabian Moss</name>
               <name role="edt">Agnes Seipelt</name>
               <note>The editors listed here are responsible for the contents of this very chapter of the MEI Guidelines.</note>
            </respStmt>
            <respStmt>
               <resp>With contributions by</resp>
               <!--TODO: To be filled automatically via GitHub API-->
               <name ref="https://api.github.com/users/bwbohl">Benjamin W. Bohl</name>
               <name ref="https://api.github.com/users/BruxDDay">BruxDDay</name>
               <name ref="https://api.github.com/users/ndubo">Norbert Dubowy</name>
               <name ref="https://api.github.com/users/fujinaga">Ichiro Fujinaga</name>
               <name ref="https://api.github.com/users/axgeertinger">Axel Geertinger</name>
               <name ref="https://api.github.com/users/ahankinson">Andrew Hankinson</name>
               <name ref="https://api.github.com/users/irmlindcapelle">irmlindcapelle</name>
               <name ref="https://api.github.com/users/frakel">franz kelnreiter</name>
               <name ref="https://api.github.com/users/kepper">kepper</name>
               <name ref="https://api.github.com/users/zolaemil">Zoltan Komives</name>
               <name ref="https://api.github.com/users/DDMAL-LabManager">DDMAL LabManager</name>
               <name ref="https://api.github.com/users/uliska">Urs Liska</name>
               <name ref="https://api.github.com/users/elsinhadl">Elsa De Luca</name>
               <name ref="https://api.github.com/users/napulen">Néstor Nápoles López</name>
               <name ref="https://api.github.com/users/MajaHartwig">MajaHartwig</name>
               <name ref="https://api.github.com/users/musicEnfanthen">Stefan Münnich</name>
               <name ref="https://api.github.com/users/pe-ro">pe-ro</name>
               <name ref="https://api.github.com/users/lpugin">Laurent Pugin</name>
               <name ref="https://api.github.com/users/JRegimbal">Juliette Regimbal</name>
               <name ref="https://api.github.com/users/rettinghaus">Klaus Rettinghaus</name>
               <name ref="https://api.github.com/users/aseipelt">Agnes Seipelt</name>
               <name ref="https://api.github.com/users/martha-thomae">Martha E. Thomae</name>
               <name ref="https://api.github.com/users/raffazizzi">Raffaele Viglianti</name>
               <name ref="https://api.github.com/users/vigliensoni">Gabriel Vigliensoni</name>
               <name ref="https://api.github.com/users/th-we">Thomas Weber</name>
               <name ref="https://api.github.com/users/musicog">David M. Weigl</name>
            </respStmt>
         </titleStmt>
         <publicationStmt>
            <distributor>Music Encoding Initiative (MEI) Board</distributor>
            <availability>
               <p>
                  <hi>Music Encoding Initiative (MEI)</hi>
               </p>
               <p>NOTICE: Copyright (c) by the Music Encoding Initiative (MEI) Board (formerly known as "MEI Council").</p>
               <p>Licensed under the Educational Community License, Version 2.0 (the "License"); you may
                                            not use this file except in compliance with the License. You may obtain a copy of the
                                            License at <ref target="http://opensource.org/licenses/ECL-2.0">http://opensource.org/licenses/ECL-2.0</ref>.</p>
               <p>Unless required by applicable law or agreed to in writing, software distributed under
                                            the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
                                            KIND, either express or implied. See the License for the specific language governing
                                            permissions and limitations under the License.</p>
               <p>This is a derivative work based on earlier versions of the schema copyright (c)
                                            2001-2006 Perry Roland and the Rector and Visitors of the University of Virginia;
                                            licensed under the Educational Community License version 1.0.</p>
               <p>CONTACT: contact@music-encoding.org </p>
            </availability>
         </publicationStmt>
         <sourceDesc>
            <p>Born digital: No previous source exists.</p>
         </sourceDesc>
      </fileDesc>
   </teiHeader>
   <text>
      <body>
         <div xml:id="analysisharm" type="div1">
            <head>Analysis Markup and Harmonies</head>
            <p>This chapter of the MEI Guidelines describes how the results of a musical analysis or harmonic information may be stored in MEI.</p>
            <div xml:id="analysis" type="div2">
               <head>Analytical Information</head>
               <p>This chapter describes the use of attributes that capture data which may be useful for analytical purposes. The analysis module provides attributes that record relationships between entities found in the encoding. These attributes may be used differently by different users, depending on the purpose of the analysis.</p>
               <p>These Guidelines recommend that encoders employ commonly accepted analytical practices, such as ‘functional analysis’ or ‘Schenkerian analysis’, and document their use in the <gi scheme="MEI">encodingDesc</gi> described in section <ptr target="#headerEncodingDescription"/>. For general information on musical analysis, please consult Grove Music Online, ‘<ref target="https://doi.org/10.1093/gmo/9781561592630.article.41862">Analysis</ref>’.</p>
               <p>The relationships between event elements, such as note, chord, and rest, are the basic material of musical analysis. MEI provides linking attributes to ensure a closed network of these relations. They provide the opportunity to record data useful for common analytical tasks. In the context of a formal analysis, for instance, these attributes can be useful in the capture information about the structure of a musical work. Further information on these attributes can be found in <ptr target="#linkingdata"/>.</p>
               <div xml:id="analysisSpecificAttrs" type="div3">
                  <head>Event-Specific Analytical Information</head>
                  <p>In addition to the common linking attributes (see <ptr target="#linkingDescribingRelationships"/>), the analysis module also offers other, more specific attributes on certain musical elements:</p>
                  <p>
                     <specList>
                        <specDesc key="att.intervalHarmonic" atts="inth"/>
                        <specDesc key="att.intervalMelodic" atts="intm"/>
                        <specDesc key="att.melodicFunction" atts="mfunc"/>
                        <specDesc key="att.harmonicFunction" atts="deg"/>
                        <specDesc key="att.pitchClass" atts="pclass"/>
                        <specDesc key="att.solfa" atts="psolfa"/>
                     </specList>
                  </p>
                  <div xml:id="analysisMelodicIntervals" type="div4">
                     <head>Melodic Intervals</head>
                     <p>The <att>intm</att> attribute offers several methods for encoding the melodic interval from a preceding pitch. First, Parsons Code allows for description of the contour of the melody in very general terms; that is, as up, down, or same note. Parsons Code is helpful for identifying musical works with clearly defined melodies and analyzing the relationship between successive notes of monophonic tunes. For more information about the Parsons Code, please see the "The Directory of Tunes and Musical Themes" by Denys Parsons (2002). The next example shows interval relationships indicated by the Parsons Code:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample179.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>Alternatively, diatonic interval quality and size may be indicated by a letter signifying the interval quality (A= augmented, d= diminished, M = major, m = minor, P = perfect) followed by a number indicating the size of the interval. The interval direction may be encoded using a leading plus (+) or minus (-) sign:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample180.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>As a third option, signed integers may be used to record the difference in half steps between the previous pitch and the current one. Decimal values accommodate the description of microtonal intervals:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample181.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                  </div>
                  <div xml:id="analysisMelodicFunction" type="div4">
                     <head>Melodic Function</head>
                     <p>The <att>mfunc</att> attribute describes melodic function of a <gi scheme="MEI">note</gi> or neume using the <ref target="https://www.humdrum.org/rep/embel/">Humdrum **embel syntax</ref>. In the following example, the note B is labeled as a lower neighbor while all other notes are labeled as chord tones: <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample182.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                  </div>
                  <div xml:id="analysisHarmonicIntervals" type="div4">
                     <head>Harmonic Intervals</head>
                     <p>
                        <specList>
                           <specDesc key="att.intervalHarmonic" atts="inth"/>
                        </specList>
                     </p>
                     <p>In contrast with <att>intm</att>, which characterizes melodic (sequential) intervals, the <att>inth</att> attribute is used to encode the harmonic interval between the current note and other pitches occurring at the same moment in time. The notes of interest may or may not be marked as a <gi scheme="MEI">chord</gi>. In the markup below, for example, the values of <att>inth</att> capture the harmonic intervals between notes distributed across multiple staves and layers.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample183.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>Use of the <att>inth</att> permits detailed specification of intervallic information for every note and its function in relation to other simultaneously-occurring notes and hence about the harmonic nature of the musical work.</p>
                  </div>
                  <div xml:id="analysisScaleDegrees" type="div4">
                     <head>Scale Degrees</head>
                     <p>
                        <specList>
                           <specDesc key="att.harmonicFunction" atts="deg"/>
                        </specList>
                     </p>
                     <p>The <att>deg</att> attribute can be used to represent key-dependent scale-degree information for music in major or minor keys.</p>
                     <p>Scale-degree values are relative to the prevailing major or minor key. In the case of minor keys, scale degrees are characterized with respect to the harmonic minor scale. For example, the pitch F in the key of A minor is the submediant (6), but F is the lowered submediant (6-) in the key of A major.</p>
                     <p>Melodic approach can be indicated by a leading caret (^) or lowercase v, representing ascending and descending approaches, respectively.</p>
                     <p>Chromatic alteration of the scale degree can be represented using a trailing plus (+) or minus (-) signs, signifying raised or lowered scale degree, respectively. The actual amount of chromatic alteration is not indicated.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample184.txt" parse="text"/></egXML>
                        </figure>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample185.txt" parse="text"/></egXML>
                        </figure>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample186.txt" parse="text"/></egXML>
                        </figure>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample187.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                  </div>
                  <div xml:id="analysisPitchClass" type="div4">
                     <head>Pitch Class</head>
                     <p>The <att>pclass</att> attribute can be used to encode information about the pitch class to which a note belongs. The attribute’s value must be an integer less than or equal to 11. It is only allowed on the <gi scheme="MEI">note</gi> element. The <att>pclass</att> attribute comes from "musical set theory" elaborated first by Howard Hanson and Allen Forte as a new method for organizing tones. It provides a concept for categorizing musical objects (notes) and describing their relationships. It is a kind of grouping and combining, mostly developed in connection with atonal music. However, the concept of set theory is general and can also be applied to tonal music. A pitch class means the summary of every pitch with specific characteristics that means a pitch class set is an unordered collection of pitches, <abbr>e.g.</abbr>, every pitch with the name C.</p>
                     <p>A pitch class may contain a large number of pitches, because different octaves and enharmonic spellings of pitch make no difference. The notes C, E, and G would be 0, 4 and 7 in pitch class notation, for example, regardless of the octave in which they are performed. The example below contains the same pitch in four different enharmonic spellings, but all are part of the same pitch class.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample188.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>For further information on pitch class set theory, please consult the following sources:</p>
                     <list rend="bulleted">
                        <item>
                           <ref target="http://www.mta.ca/faculty/arts-letters/music/pc-set_project/pc-set_new/pages/introduction/toc.html">http://www.mta.ca/faculty/arts-letters/music/pc-set_project/pc-set_new/pages/introduction/toc.html</ref></item>
                        <item>"Analyzing Atonal Music: Pitch Class Set Theory and its Contexts" by Michael Schuijler (2008)</item>
                        <item>Cohen, Allen Laurence (2004). Howard Hanson in Theory and Practice</item>
                     </list>
                  </div>
                  <div xml:id="analysisSolmization" type="div4">
                     <head>Solmization</head>
                     <p>Solmization is a system which associates a syllable with each note of a musical scale. There are various forms of solmization used throughout the world. In Europe and North America, solfège is the most common practice. In this system, the seven syllables for a major scale are do, re, mi, fa, so, la and ti. In the ‘fixed-do’ system, the syllable "do" is always associated with the pitch "c", while in the ‘movable-do’ system, "do" is associated with the tonic note. The <att>psolfa</att> attribute is only allowed on <gi scheme="MEI">note</gi> and <gi scheme="MEI">nc</gi> elements. Its value is unconstrained in order to accommodate various solmization systems. <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample189.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                  </div>
               </div>
               <div xml:id="analysisMetricalConformance" type="div3">
                  <head>Metrical Conformance</head>
                  <p>It is often helpful to record whether a given staff, layer, or measure obeys the meter established for it. The following attributes are provided for this purpose:</p>
                  <p>
                     <specList>
                        <specDesc key="att.meterConformance" atts="metcon"/>
                        <specDesc key="att.meterConformance.bar" atts="metcon"/>
                     </specList>
                  </p>
                  <p>When used on <gi scheme="MEI">staff</gi> or <gi scheme="MEI">layer</gi> elements, the <att>metcon</att> attribute can be used to indicate if the duration of the contained events is equal to (<val>c</val>), less than (<val>i</val>), or greater than (<val>o</val>) that predicted by the time signature. When used on the <gi scheme="MEI">measure</gi> element, <att>metcon</att> takes a boolean value, where <val>true</val> indicates conformance by all staff and layer descendants of the measure.</p>
                  <p>In the first example below, the layer, staff, and measure all match the prevailing meter. In the second example, however, the first layer does not comply with the meter, making the staff containing it and measure as a whole non-compliant. When there is a single layer or when all the layers on a staff agree with each other, metrical compliance can be indicated on the <gi scheme="MEI">staff</gi> element. When, however, not all layers have the same value for <att>metcon</att>, then it is necessary to omit <att>metcon</att> at the staff level. The value of <att>metcon</att> on the measure level can usually be computed based on the values of its layer and staff sub-elements.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample190.txt" parse="text"/></egXML>
                     </figure>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/analysis/analysis-sample191.txt" parse="text"/></egXML>
                     </figure>
                  </p>
               </div>
            </div>
            <div xml:id="harmony" type="div2">
               <head>Harmony</head>
               <p>This chapter describes the encoding of indications of harmony occurring within a music text, <abbr>e.g.</abbr>, chord names, tablature grids, figured bass, or signs for harmonic analysis, and the methods by which these indications can be connected with their interpretations. For encoder-supplied analysis of intervallic content, please see chapter <ptr target="#analysis"/>.</p>
               <div xml:id="harmonyDetails" type="div3">
                  <head>Indications of Harmony</head>
                  <p>On the most basic level, chords in the musical text can be encoded using the <gi scheme="MEI">chord</gi> element:</p>
                  <p>
                     <specList>
                        <specDesc key="chord"/>
                     </specList>
                  </p>
                  <p>Additional information on the use of the <gi scheme="MEI">chord</gi> element is available in <ptr target="#sharedBasicEvents"/> and <ptr target="#cmnNotesChords"/>.</p>
                  <p>With only this kind of markup, harmonic information is implicit in the notes themselves. The elements and attributes of this module, however, provide for the encoding of explicit indications of harmony, such as chord symbols, tablature grids, figured bass signs, and the symbols of harmonic analysis like Roman numerals and their interpretation.</p>
                  <div xml:id="harmonyMetadataInscoreDef" type="div4">
                     <head>Interpreted Chord Data in scoreDef</head>
                     <p>An harmonic label, such as "7", may occur many times throughout an MEI instance. Where the goal is diplomatic transcription, simply recording the uninterpreted label is sufficient. Recording the precise meaning of such a label requires storing an interpretation. But, including the interpretation at every point of occurrence of the label would swell the size of the file and complicate the markup for those users who are not interested in the interpretation. Therefore, MEI separates the encoding of harmonic labels from the encoding of the interpretation of those labels.</p>
                     <p>The following elements enable the creation and re-use of interpreted chord data:</p>
                     <p>
                        <specList>
                           <specDesc key="chordTable"/>
                           <specDesc key="chordDef"/>
                           <specDesc key="att.stringtab.position" atts="tab.pos"/>
                           <specDesc key="chordMember"/>
                           <specDesc key="att.intervalHarmonic" atts="inth"/>
                           <specDesc key="att.stringtab" atts="tab.fing tab.fret"/>
                           <specDesc key="barre"/>
                           <specDesc key="barre" atts="fret"/>
                        </specList>
                     </p>
                     <p>The <gi scheme="MEI">chordTable</gi> element is a container for a set of chord definitions, while the <gi scheme="MEI">chordDef</gi> element defines a single chord. Chord definitions may be created <hi rend="italic">a priori</hi> or as the result of analysis of the pitch content of the music at hand, for instance, by examination of the notes occurring on the downbeat of each measure. In this way, the chord definitions serve as a record of the analysis.</p>
                     <p>Even though it is not required by the schema, an <att>xml:id</att> attribute on <gi scheme="MEI">chordDef</gi> is necessary to permit the creation of associations between harmonic indications in the musical text with the chord defined here. The <att>xml:id</att> attribute provides a unique identifier for the chord definition that can be referenced by the <gi scheme="MEI">harm</gi> element’s <att>chordref</att> attribute.</p>
                     <p>Individual pitches of a chord are encoded using <gi scheme="MEI">chordMember</gi>. The <att>inth</att> attribute provides the means for indicating the number of half steps of the chord note above the bass note.</p>
                     <p>These simple resources allow for the detailed specification and interpretation of harmonic indications found in the musical text. For example, the harmonic label A can be equated with a fully spelled-out indication of functional harmony that can be substituted for the harmonic label, say, in an aural rendition:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve" valid="feasible"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample260.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>Alternatively, the non-bass chord tones may be indicated, not with pitch names, but with their intervallic distance above the bass note. Therefore, the example above may also be encoded:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample261.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>The preceding encoding possibilities provide the detailed information necessary to create playable chord annotations. For more generic uses, however, the encoding can be taken one step further; that is, it can be reduced to its minimum intervallic content by eliminating octave duplications and expressing all chord members, including the bass note, using intervals above the bass. Of course, the <att>inth</att> attribute for the bass note itself should be set to 0. For example:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample262.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                  </div>
                  <div xml:id="harmonyTablatureGrids" type="div4">
                     <head>Chord Tablature Grids</head>
                     <p>The <att>pos</att> attribute on <gi scheme="MEI">chordDef</gi>, the <att>fing</att> and <att>fret</att> attributes on <gi scheme="MEI">chordMember</gi>, and the <gi scheme="MEI">barre</gi> element child of <gi scheme="MEI">chordDef</gi> are provided in order to create displayable and performable chord tablature grids for guitar and other fretted string instruments. The fret at which a finger should be placed is recorded in the <att>fret</att> attribute, while <att>fing</att> indicates which finger, if any, should be used to play an individual string. The values x and o are used to indicate muffled and open strings, respectively.</p>
                     <p>The <gi scheme="MEI">chordDef</gi> element may contain <gi scheme="MEI">barre</gi> sub-elements when a single finger is used to stop multiple strings. Here the <att>fret</att> attribute gives the fret position at which the barre should be created, while the <att>startid</att> and <att>endid</att> attributes are used to indicate the <gi scheme="MEI">chordMember</gi> elements on which the barre starts and finishes.</p>
                  </div>
                  <div xml:id="harmonyMusicText" type="div4">
                     <head>Indications of Harmony in the Music Text</head>
                     <p>With regard to indications of harmony, MEI attempts to strike a balance between very precise (interpreted) and very loose (uninterpreted) markup needs. Therefore, various kinds of harmonic labels are accommodated by the <gi scheme="MEI">harm</gi> element. While some are more structured than others, in the final analysis they all function as <hi rend="italic">labels</hi>. Therefore, MEI provides only a single element for the capture of harmonic indications of all kinds:</p>
                     <p>
                        <specList>
                           <specDesc key="att.extender" atts="extender"/>
                           <specDesc key="att.harm.vis" atts="rendgrid"/>
                        </specList>
                     </p>
                     <p>The <gi scheme="MEI">harm</gi> element can be used to capture chord labels that consist entirely of text: <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample263.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>or labels that are chord tablature grids:</p>
                     <p>
                        <figure>
                           <head>Chord grid without label</head>
                           <graphic url="../images/modules/harmony/A7_5th.gif"/>
                        </figure>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample264.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>or labels that mix these styles:</p>
                     <p>
                        <figure>
                           <head>Chord grid with label</head>
                           <graphic url="../images/modules/harmony/A7_1st.gif"/>
                        </figure>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample265.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>The <gi scheme="MEI">harm</gi> element must define a point of attachment using one of the following attributes: <att>startid</att>, <att>tstamp</att>, <att>tstamp.ges</att> or <att>tstamp.real</att>. The most commonly-used of these are <att>startid</att> and <att>tstamp</att>.</p>
                     <p>The <att>dur</att> attribute encodes the logical and visual duration of the harmony. Please note that the <att>dur</att> attribute here is not a true duration, but rather a time stamp for the end point of the harmony.</p>
                     <p>Precise placement of the harmonic label can be controlled through the use of attributes in the <ident type="class">att.harm.vis</ident> attribute class.</p>
                     <div xml:id="harmonyFigbass" type="div5">
                        <head>Figured Bass</head>
                        <p>Figured bass is a specialized form of harmonic indication. In order to support the capture of the semantics of figured bass, and not just its visual representation, MEI provides the following elements:</p>
                        <p>
                           <specList>
                              <specDesc key="fb"/>
                              <specDesc key="att.extender" atts="extender"/>
                           </specList>
                        </p>
                        <p>Figured bass, consisting as it does of text, can always be represented purely visually. This is probably how an OMR program or other naive encoder might deal with the markup of figured bass:</p>
                        <p>
                           <figure>
                              <head>Figured bass</head>
                              <graphic url="../images/modules/harmony/figuredBass01.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample266.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>However, this kind of approach fails to recognize that a figured bass is being used and not some other system of harmonic indications. To capture this knowledge, the preceding example can also be marked more explicitly with:</p>
                        <p>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample267.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>In order to provide greater control over the individual components of the figured bass, each component can be treated as a figure. The natural symbol is encoded using the Unicode MUSIC NATURAL SIGN character.</p>
                        <p>
                           <figure>
                              <head>Figured bass with accidental</head>
                              <graphic url="../images/modules/harmony/figuredBass02.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample268.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>Encoding order of the component <gi scheme="MEI">f</gi> elements is significant as is the encoding order of the characters within each component. In the preceding example, the entire figured bass sign is encoded from top to bottom, in other words, just as the figure appears on the page. In the following examples, the encoding order of the characters in <gi scheme="MEI">f</gi> explicitly locates the accidentals:</p>
                        <p>
                           <figure>
                              <head>Figured bass with chromatically altered figure</head>
                              <graphic url="../images/modules/harmony/figuredBass03.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample269.txt" parse="text"/></egXML>
                           </figure>
                           <figure>
                              <head>Figured bass with chromatically altered figures</head>
                              <graphic url="../images/modules/harmony/figuredBass04.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample270.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>You may use 6\ and 6/ for numerals that should be shown with a backslash and slash, respectively. An alternative would be to use the "bslash" (backward slash) and "fslash" (forward slash) on the <gi scheme="MEI">rend</gi> element.</p>
                        <p>
                           <figure>
                              <head>Figured bass with chromatically altered figure</head>
                              <graphic url="../images/modules/harmony/figuredBass05.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample271.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>Each component of the figured bass sign may use the <att>extender</att> attribute to indicate that horizontal lines are used to mark the extent of the figure’s harmonic influence. The <att>altsym</att> attribute can be used to point to a user-defined symbol that better represents the figure component, for example, the combined "2" and "+" below. Similar to the slash in the preceding example before, the small curve over the "5" in example 6 can be represented by the Unicode COMBINING INVERTED BREVE.</p>
                        <p>
                           <figure>
                              <head>Figured bass with alternative sign</head>
                              <graphic url="../images/modules/harmony/figuredBass06.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve" valid="feasible"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample272.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>Because the repertoire of signs is so large, figures which consist entirely of a mark indicating repetition of the preceding figure, should be represented by the character appearing in the document. For example, in some notational styles, the repetition sign is a dash (-), while in others it is a solidus (/). Using characters like this is also consistent with other existing figured bass encoding schemes.</p>
                        <p>
                           <figure>
                              <head>Figured bass repetition</head>
                              <graphic url="../images/modules/harmony/figuredBass07.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample273.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>Often, the distinction between extending lines and repetition signs is unclear. Treating what at first appear to be extenders as repetition signs, however, can sometimes help to simplify the required markup and to make the intent of the signs explicit. For example, in the following example the dashes on beat 4 and 4.5 are treated as repetition signs:</p>
                        <p>
                           <figure>
                              <head>Extenders and repetition</head>
                              <graphic url="../images/modules/harmony/figuredBass09.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample274.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>Using <att>extender</att> attributes for this example may make it easier to render the figured bass symbol, but it is less explicit with regard to the intended harmony. For example, it is difficult to ascertain what harmony should be sounding on beat 4 and its after-beat.</p>
                        <p>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample275.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                        <p>The primary goal of <gi scheme="MEI">fb</gi> is not the capture all the visual idiosyncracies that can be found in printed and manuscript scores throughout the centuries, but to provide a more-or-less standardized label. The markup below, or any markup in fact, cannot capture the exact look of the figured bass signs. The <att>altsym</att> attribute may be used to provide access to a user-defined symbol for precise rendition. Similarly, the <att>facs</att> attribute may be employed to point to the symbol as it occurs in the encoding source material.</p>
                        <p>
                           <figure>
                              <head>Figured bass with alternative sign</head>
                              <graphic url="../images/modules/harmony/figuredBass10.png"/>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample276.txt" parse="text"/></egXML>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample277.txt" parse="text"/></egXML>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample278.txt" parse="text"/></egXML>
                           </figure>
                           <figure>
                              <head/>
                              <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/harmony/harmony-sample279.txt" parse="text"/></egXML>
                           </figure>
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </body>
   </text>
</TEI>
