<?xml version="1.0" encoding="UTF-8"?>
<!-- 
  NOTICE: Copyright (c) 2017-2023 by the Music Encoding Initiative (MEI) Board (formerly known as "MEI Council").

  Licensed under the Educational Community License, Version 2.0 (the "License"); you may
  not use this file except in compliance with the License. You may obtain a copy of the License
  at https://opensource.org/licenses/ECL-2.0.
  
  Unless required by applicable law or agreed to in writing, software distributed under the
  License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
  OF ANY KIND, either express or implied. See the License for the specific language
  governing permissions and limitations under the License.
  
  This is a derivative work based on earlier versions of the schema © 2001-2006 Perry Roland
  and the Rector and Visitors of the University of Virginia; licensed under the Educational
  Community License version 1.0.
  
  CONTACT: info@music-encoding.org
-->
<?xml-model href="../validation/mei_odds.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="../validation/mei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<TEI xmlns:rng="http://relaxng.org/ns/structure/1.0"
     xmlns:sch="http://purl.oclc.org/dsdl/schematron"
     xmlns="http://www.tei-c.org/ns/1.0"
     version="5.0"
     rend="book"
     xml:lang="en">
   <teiHeader>
      <fileDesc>
         <titleStmt>
            <title level="s">The Music Encoding Initiative Guidelines</title>
            <title level="a">Scholarly Editing with MEI</title>
            <respStmt>
               <resp>Edited by</resp>
               <name role="edt">Johannes Kepper</name>
               <note>The editors listed here are responsible for the contents of this very chapter of the MEI Guidelines.</note>
            </respStmt>
            <respStmt>
               <resp>With contributions by</resp>
               <!--TODO: To be filled automatically via GitHub API-->
               <name ref="https://api.github.com/users/bwbohl">Benjamin W. Bohl</name>
               <name ref="https://api.github.com/users/BruxDDay">BruxDDay</name>
               <name ref="https://api.github.com/users/dinamix">dinamix</name>
               <name ref="https://api.github.com/users/ndubo">Norbert Dubowy</name>
               <name ref="https://api.github.com/users/fujinaga">Ichiro Fujinaga</name>
               <name ref="https://api.github.com/users/axgeertinger">Axel Geertinger</name>
               <name ref="https://api.github.com/users/ahankinson">Andrew Hankinson</name>
               <name ref="https://api.github.com/users/irmlindcapelle">irmlindcapelle</name>
               <name ref="https://api.github.com/users/frakel">franz kelnreiter</name>
               <name ref="https://api.github.com/users/kepper">kepper</name>
               <name ref="https://api.github.com/users/zolaemil">Zoltan Komives</name>
               <name ref="https://api.github.com/users/DDMAL-LabManager">DDMAL LabManager</name>
               <name ref="https://api.github.com/users/uliska">Urs Liska</name>
               <name ref="https://api.github.com/users/elsinhadl">Elsa De Luca</name>
               <name ref="https://api.github.com/users/napulen">Néstor Nápoles López</name>
               <name ref="https://api.github.com/users/MajaHartwig">MajaHartwig</name>
               <name ref="https://api.github.com/users/musicEnfanthen">Stefan Münnich</name>
               <name ref="https://api.github.com/users/pe-ro">pe-ro</name>
               <name ref="https://api.github.com/users/lpugin">Laurent Pugin</name>
               <name ref="https://api.github.com/users/JRegimbal">Juliette Regimbal</name>
               <name ref="https://api.github.com/users/rettinghaus">Klaus Rettinghaus</name>
               <name ref="https://api.github.com/users/aseipelt">Agnes Seipelt</name>
               <name ref="https://api.github.com/users/martha-thomae">Martha E. Thomae</name>
               <name ref="https://api.github.com/users/raffazizzi">Raffaele Viglianti</name>
               <name ref="https://api.github.com/users/vigliensoni">Gabriel Vigliensoni</name>
               <name ref="https://api.github.com/users/th-we">Thomas Weber</name>
               <name ref="https://api.github.com/users/musicog">David M. Weigl</name>
            </respStmt>
         </titleStmt>
         <publicationStmt>
            <distributor>Music Encoding Initiative (MEI) Council</distributor>
            <availability>
               <p>
                  <hi>Music Encoding Initiative (MEI)</hi>
               </p>
               <p>NOTICE: Copyright (c) 2017–2023 by the Music Encoding Initiative (MEI) Council.</p>
               <p>Licensed under the Educational Community License, Version 2.0 (the "License"); you may
                                            not use this file except in compliance with the License. You may obtain a copy of the
                                            License at <ref target="http://opensource.org/licenses/ECL-2.0">http://opensource.org/licenses/ECL-2.0</ref>.</p>
               <p>Unless required by applicable law or agreed to in writing, software distributed under
                                            the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
                                            KIND, either express or implied. See the License for the specific language governing
                                            permissions and limitations under the License.</p>
               <p>This is a derivative work based on earlier versions of the schema copyright (c)
                                            2001-2006 Perry Roland and the Rector and Visitors of the University of Virginia;
                                            licensed under the Educational Community License version 1.0.</p>
               <p>CONTACT: contact@music-encoding.org </p>
            </availability>
         </publicationStmt>
         <sourceDesc>
            <p>Born digital: No previous source exists.</p>
         </sourceDesc>
      </fileDesc>
   </teiHeader>
   <text>
      <body>
         <div xml:id="scholarlyediting" type="div1">
            <head>Scholarly Editing with MEI</head>
            <p>This chapter introduces markup targeting at digital scholarly editions of music. In <ptr target="#critApp"/>, the alignment of multiple sources / witnesses of the same musical text is discussed. <ptr target="#editTrans"/> covers editorial observations in and interventions to the text. <ptr target="#genetic"/> finally deals with the special requirements and needs of genetic editions in music.</p>
            <div xml:id="critApp" type="div2">
               <head>Critical Apparatus</head>
               <p>This chapter describes how to encode differences between multiple exemplars of the same musical work (often referred to in MEI as ‘sources’). The mechanisms and elements described in this chapter are closely related to their counterparts in the TEI guidelines. It is also important to refer to chapter <ptr target="#editTrans"/> of these guidelines, especially concerning the <gi scheme="MEI">choice</gi> element described therein.</p>
               <div xml:id="critAppElements" type="div3">
                  <head>General Usage</head>
                  <p>The following elements are defined in the critApp Module:</p>
                  <p>
                     <specList>
                        <specDesc key="app"/>
                        <specDesc key="lem"/>
                        <specDesc key="rdg"/>
                     </specList>
                  </p>
                  <p>An <gi scheme="MEI">app</gi> element always encapsulates the differences between varying sources. Therefore, it must contain at least two child elements. Possible child elements are <gi scheme="MEI">lem</gi> and <gi scheme="MEI">rdg</gi>, which use the same model, but have a different meaning: Whereas <gi scheme="MEI">lem</gi> is used for prioritizing one alternative, a <gi scheme="MEI">rdg</gi> has no such additional meaning and simply indicates a reading as found in one or more sources. Accordingly, <gi scheme="MEI">lem</gi> is allowed only once in <gi scheme="MEI">app</gi>, whereas <gi scheme="MEI">rdg</gi> may appear as often as necessary.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample212.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>The <gi scheme="MEI">rdg</gi> (and <gi scheme="MEI">lem</gi>) elements use the <att>source</att> attribute to point to one or more descriptions of the bibliographic sources containing the material they mark:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample213.txt" parse="text"/></egXML>
                     </figure>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample214.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>The <att>seq</att> attribute may be used on <gi scheme="MEI">lem</gi> or <gi scheme="MEI">rdg</gi> to record the sequence of a series of readings. In the following example, the material in source B is marked as sequential to (and perhaps derived from) the reading in source A:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample215.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>If interested in modeling such dependencies between witnesses, using markup from <ptr target="#FRBR"/> is generally recommendable.</p>
                  <p>If a source has additional content that is not found in other sources, an empty <gi scheme="MEI">rdg</gi> element may be used to indicate the lack of material in the other sources. In the following example, source 1 includes material that is not found in sources 2 and 3:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample216.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>When working with a large number of sources, it might seem tedious to provide references for all sources. However, use of the <gi scheme="MEI">rdg</gi> element without <att>source</att> is not recommended because such an encoding is not explicit and is therefore difficult to process.</p>
               </div>
               <div xml:id="critAppInContent" type="div3">
                  <head>Variants in Musical Content</head>
                  <p>The <gi scheme="MEI">app</gi> element may be used to accommodate textual variation at nearly any point in a musical text. For example, it may be used to indicate minor differences such as stem directions:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample217.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>or to indicate more significant differences, such as the insertion of extra measures:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample218.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>However, the flexibility in the location of <gi scheme="MEI">app</gi> places a burden on the encoder to ensure that the <gi scheme="MEI">app</gi>, <gi scheme="MEI">rdg</gi>, and <gi scheme="MEI">lem</gi> elements are used correctly; that is, the content of every <gi scheme="MEI">rdg</gi> and <gi scheme="MEI">lem</gi> has to be a valid replacement for its parent <gi scheme="MEI">app</gi>, even though this cannot be controlled effectively by the MEI schema.</p>
               </div>
               <div xml:id="critAppInDefs" type="div3">
                  <head>Variants in Score Definitions</head>
                  <p>In addition to its use for differentiation of the musical content of multiple sources, <gi scheme="MEI">app</gi> may also be utilized to describe the layout of different scores, even when the musical content itself remains the same. An example of this is two sources that have the same content, but a different ordering of staves on which the content is written. By definition, the order of staves in MEI is described in and derived from the order of <gi scheme="MEI">staffDef</gi> elements in <gi scheme="MEI">scoreDef</gi>, not from the order of <gi scheme="MEI">staff</gi> elements within a <gi scheme="MEI">measure</gi>. The <gi scheme="MEI">staff</gi> element in a measure points to its corresponding <gi scheme="MEI">staffDef</gi> using the same value for <att>n</att> on both elements.</p>
                  <p>This rather loose mechanism makes it possible to point dynamically to the correct staff definition for a given source. The following example demonstrates how this can be accomplished for two sources, both presenting a two-staff score, but with differing staff order. No further <gi scheme="MEI">app</gi> element is necessary within the <gi scheme="MEI">measure</gi> to describe the alternative score order of the sources.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample219.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>When unique values for <att>n</att> on <gi scheme="MEI">layerDef</gi> and <gi scheme="MEI">layer</gi> are provided, it is possible to reallocate layers in the same fashion as staves.</p>
                  <p>This mechanism may also be used to describe not only differing page orientations, formats and margins, but also clefs and keys.</p>
                  <p>The use of <gi scheme="MEI">app</gi> in conjunction with <gi scheme="MEI">staffDef</gi> illustrates the greater flexibility of connecting <gi scheme="MEI">staff</gi> and <gi scheme="MEI">staffDef</gi> by a shared <att>n</att> value. A technically more robust alternative to <att>n</att> would be to use the <att>def</att> attribute on <gi scheme="MEI">staff</gi>, which points to the <att>xml:id</att> of a <gi scheme="MEI">staffDef</gi>. However, this strong connection would be tied to one specific <gi scheme="MEI">staffDef</gi>, and would not allow to pick one alternative out of an <gi scheme="MEI">app</gi>.</p>
               </div>
               <div xml:id="critAppNesting" type="div3">
                  <head>Nesting Apparati</head>
                  <p>In some situations, musical sources will agree at one level while differing at a lower level. For these cases, <gi scheme="MEI">app</gi> elements may be nested to any level necessary. In the following example, there are three sources, two of which agree on the addition of a measure, but differ in the content of the added measure:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/critApp/critApp-sample220.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>When nesting <gi scheme="MEI">app</gi> elements, it is important that the value(s) in the child <gi scheme="MEI">rdg</gi> element’s <att>source</att> attribute must be a strict subset of the ancestor <gi scheme="MEI">rdg</gi> element’s <att>source</att> value.</p>
               </div>
            </div>
            <div xml:id="editTrans" type="div2">
               <head>Editorial Markup</head>
               <p>It is often necessary to render an account of any changes made to a musical text during its creation (and any subsequent editing) and to accommodate editorial comment necessitated by an editorial process. The elements and attributes described in this chapter may be used to record such editorial interventions, whether made by the composer, the copyists of the manuscript, the editor of an earlier edition used as a copy text, or the current encoder/editor.</p>
               <p>The scope of the elements described herein is therefore the description of features relating to the genesis, later revision and editorial interpretation of a text. Mechanisms for describing multiple sources are described in chapter <ptr target="#critApp"/> of these Guidelines, while the full setup for genetic editions is described in chapter <ptr target="#genetic"/>.</p>
               <p>The elements described in this chapter may be contained by a wide range of other MEI elements and, in turn, may contain a variety of elements. The encoder must assume responsibility for the appropriateness of the markup; that is, a great many combinations of editorial and transcriptional markup are technically possible, but care must be taken to see that the encoding does not contravene the rationale of these Guidelines. In general, it should be ensured that a file would be valid if the editorial markup would be omitted, as such a validation cannot be ensured in an efficient way by the MEI schema.</p>
               <p>For most of the elements discussed here, some encoders may wish to indicate both a responsibility; that is, a coded value indicating the person or agency responsible for making the editorial intervention in question, and an indication of the degree of certainty which the encoder wishes to associate with the intervention. The elements discussed here thus may potentially carry the following optional attributes:</p>
               <p>
                  <specList>
                     <specDesc key="att.evidence" atts="cert"/>
                     <specDesc key="att.responsibility" atts="resp"/>
                  </specList>
               </p>
               <p>They are available through the generic attribute class <ident type="class">att.common</ident>, which is a member of <ident type="class">att.responsibility</ident>, and the attribute class <ident type="class">att.edit</ident>, to which these elements subscribe.</p>
               <p>Many of the elements discussed here can be used in two ways. Their primary purpose is to indicate that their content represents an editorial intervention (or, in some cases, the lack of intervention) of a specific kind. Sometimes, pairs or other meaningful groupings of such elements can be recorded, then wrapped within the special purpose <gi scheme="MEI">choice</gi> element:</p>
               <p>
                  <specList>
                     <specDesc key="choice"/>
                  </specList>
               </p>
               <p>Wrapping elements this way enables the encoder to represent, for example, a text in its ‘original’, uncorrected form alongside the same text in one or more ‘edited’ forms. Making use of this style of representation, software may dynamically switch between the ‘Urtext view’ of the text and one or more ‘views’ of the text after the application of the encoded editorial interventions.</p>
               <p>Elements which can be combined in this way constitute the <ident type="class">model.choicePart</ident> class. The default members of this class are <gi scheme="MEI">sic</gi>, <gi scheme="MEI">corr</gi>, <gi scheme="MEI">reg</gi>, <gi scheme="MEI">orig</gi>, and <gi scheme="MEI">unclear</gi>. As <ident type="class">model.editLike</ident> and <ident type="class">model.editorialLike</ident> are members of <ident type="class">model.choicePart</ident>, <gi scheme="MEI">choice</gi>, <gi scheme="MEI">subst</gi>, <gi scheme="MEI">abbr</gi>, and <gi scheme="MEI">expan</gi> can also be combined with the other elements. All of their functions and usage are described in greater detail below.</p>
               <p>Three categories of editorial intervention are discussed by the remainder of this chapter:</p>
               <list rend="bulleted">
                  <item>indication or correction of apparent errors;</item>
                  <item>indication of regularization of variant, irregular, non-standard, or eccentric forms; and</item>
                  <item>editorial additions, suppressions, and omissions.</item>
               </list>
               <div xml:id="edittransAbbrev" type="div3">
                  <head>Abbreviations</head>
                  <p>MEI offers methods for marking abbreviations in prose, as in the following example:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample221.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>or abbreviations in the music itself, as in the following example:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample222.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>The generic <att>type</att> attribute may be used to classify the abbreviation according to a convenient typology. Sample values include:</p>
                  <list type="gloss">
                     <label>suspension</label>
                     <item>the abbreviation provides the first letter(s) of the word or phrase, omitting the remainder;</item>
                     <label>contraction</label>
                     <item>the abbreviation omits some letter(s) in the middle;</item>
                     <label>brevigraph</label>
                     <item>the abbreviation comprises a special symbol or mark;</item>
                     <label>superscription</label>
                     <item>the abbreviation includes writing above the line;</item>
                     <label>acronym</label>
                     <item>the abbreviation comprises the initial letters of the words of a phrase;</item>
                     <label>title</label>
                     <item>the abbreviation is for a title of address (Dr, Ms, Mr, ...);</item>
                     <label>organization</label>
                     <item>the abbreviation is for the name of an organization;</item>
                     <label>geographic</label>
                     <item>the abbreviation is for a geographic name.</item>
                  </list>
                  <p>This tag is the mirror image of the <gi scheme="MEI">expan</gi> tag (not to be confused with the <gi scheme="MEI">expansion</gi> element described in <ptr target="#sharedMdivContent"/>). Both <gi scheme="MEI">abbr</gi> and <gi scheme="MEI">expan</gi> allow the encoder to transcribe an abbreviation and its expansion. In the case of <gi scheme="MEI">abbr</gi>, the original is transcribed as the content of the element and the expansion as an attribute value, while <gi scheme="MEI">expan</gi> reverses this. The choice between the two is up to the user. For example:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample223.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>The <gi scheme="MEI">abbr</gi> tag is not required; if appropriate, the encoder may transcribe abbreviations in the source text silently, without tagging them. If abbreviations are not transcribed directly but expanded silently, then the MEI header should indicate this is the case. The <att>cert</att> attribute signifies the degree of certainty ascribed to the expansion of the abbreviation. The <att>expan</att> attribute gives an expansion of the abbreviation. The <att>resp</att> attribute contains an ID reference to an element containing the name of the editor or transcriber responsible for supplying the expansion of the abbreviation.</p>
                  <p>When the content of the <att>abbr</att> or <att>expan</att> attributes requires additional markup, an attribute cannot be used. In this case, the abbreviated and expanded forms must be presented within elements. Furthermore, as alternatives to each other, the <gi scheme="MEI">abbr</gi> and <gi scheme="MEI">expan</gi> elements must be wrapped by the <gi scheme="MEI">choice</gi> element, as described above. The previous example, where the 'o:' in 'pno:' is written as superscript, would be encoded as:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample224.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <div xml:id="edittranscpMark" type="div4">
                     <head> Instructions</head>
                     <p>Many musical scores make use of various kinds of shorthand notation which omit some parts of the score that have already been written elsewhere. Typical examples for this are symbols that indicate repetition of the preceding measure or beat. In MEI, these symbols can be encoded using the <gi scheme="MEI">mRpt</gi> and <gi scheme="MEI">beatRpt</gi> elements respectively. Often, similar graphical symbols (often one or two slashes, "//") are used to mean that the current staff should have the same or similar content as another staff.</p>
                     <p>
                        <hi rend="italic">colla parte</hi> directives have a less strictly-defined scope than the ‘Rpt elements’ (<gi scheme="MEI">beatRpt</gi>, <gi scheme="MEI">halfmRpt</gi>, <gi scheme="MEI">mRpt</gi>, <gi scheme="MEI">mRpt2</gi>, <gi scheme="MEI">multiRpt</gi>). That is, rather than specifying the repetition of content of a particular duration, like a measure or beat, <hi rend="italic">colla parte</hi> instructions can refer to material of any length. In order to encode such scribal shorthand, MEI offers the <gi scheme="MEI">cpMark</gi> element, which allows filling of blank spaces in the score with horizontally and/or vertically distant material.</p>
                     <p>
                        <specList>
                           <specDesc key="cpMark"/>
                        </specList>
                     </p>
                     <p>Like any other ‘controlEvent’ (see <ptr target="#eventsControlevents"/>), <gi scheme="MEI">cpMark</gi> is placed in the score using the <att>staff</att> and <att>tstamp</att> attributes. The end point of the mark itself, when necessary, may be indicated using the <att>tstamp2</att> attribute. The source material, which is intended to be inserted in the space indicated by the copy mark, can be identified by the attributes <att>origin.tstamp</att>, <att>origin.tstamp2</att>, <att>origin.staff</att> and <att>origin.layer</att>. While <att>origin.tstamp</att> provides the relative distance from the beginning of the "gap", <att>origin.tstamp</att> is relative to the position identified by <att>origin.tstamp</att>. However, <att>origin.tstamp</att> defaults to the same value as <att>tstamp2</att> and should only be provided when necessary. When neither <att>origin.staff</att> nor <att>origin.tstamp</att> are provided, they take the same values as the cpMark’s <att>staff</att> and <att>tstamp</att> attributes; that is, they indicate a strict ‘vertical’ or ‘horizontal’ copy.</p>
                     <p>
                        <figure>
                           <head>Copy marks in the first and second violin of C.M.v.Weber’s Freischütz, Autograph, Nr.3 (Walzer), measures 223-231</head>
                           <graphic url="../images/ExampleImages/cpMark_2.png"/>
                        </figure>
                     </p>
                     <p>In the example above, there are no less than three different copy instructions, which need to be encoded with four <gi scheme="MEI">cpMark</gi> elements. First, Weber inserts characters from "a" to "f" in red ink to identify filled measures. Then, he repeats the same characters in <hi rend="italic">empty</hi> measures, which indicates that the content from the <hi rend="italic">filled</hi> measures should be copied here. While one could try to encode this with just one <gi scheme="MEI">cpMark</gi> element, it is both clearer and easier to process when using two elements.</p>
                     <p>The second and third shorthand indications are written in the second violin (lower staff). Here, Weber writes "unis.[ono]", silently omitting the reference to the first violin. His next shorthand ("in 8va") additionally instructs the copyist to double the written material in another octave. This information can be captured using the <att>dis</att> and <att>dis.place</att> attributes on <gi scheme="MEI">cpMark</gi>.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve" valid="true"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample225.txt" parse="text"/></egXML>
                        </figure>
                        <figure>
                           <head>A transcription of the example above with all shorthand resolved and colored</head>
                           <graphic url="../images/ExampleImages/cpMark_3.png"/>
                        </figure>
                     </p>
                     <p>Text used as a copy mark, like the letters in the Weber example, may be encoded as content of the <gi scheme="MEI">cpMark</gi> element. In the case of non-text marks, the <att>altsym</att> and <att>facs</att> attributes may be used to refer to a graphical surrogate.</p>
                     <p>Depending on the purpose of the encoding, the omitted parts in the score may be filled with <gi scheme="MEI">space</gi> and <gi scheme="MEI">mSpace</gi> elements of appropriate duration or silently overwritten with the content that the <gi scheme="MEI">cpMark</gi> identifies. Also, these two options may be combined through the use a <gi scheme="MEI">choice</gi> element whose <gi scheme="MEI">abbr</gi> and <gi scheme="MEI">expan</gi> children explicitly encode a transcription of the original ‘gap’ (in abbr) and the result of the insertion of the indicated material (in expan, see <ptr target="#edittransAbbrev"/>).</p>
                  </div>
               </div>
               <div xml:id="edittransErrors" type="div3">
                  <head>Apparent Errors</head>
                  <p>When the source material to be encoded is manifestly faulty, an encoder or transcriber may elect simply to correct it without comment, although for scholarly purposes it will often be more generally useful to record both the correction and the original state of the text. The elements described here enable all three approaches, and allows the last to be done in a way that makes it easy for software to present either the original or the correction.</p>
                  <p>
                     <specList>
                        <specDesc key="sic"/>
                        <specDesc key="corr"/>
                     </specList>
                  </p>
                  <p>The following examples show alternative treatment of the same material. The text to be encoded contains a chord (c4, e4, g4, a4), where c4, e4, and a4 are quarter notes, but g4 is incorrectly written as a half note.</p>
                  <p>An encoder may choose to silently correct the engraver’s error:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample226.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>or the correction may be made explicit:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample227.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>Alternatively, the encoder may simply record the typographic error without correcting it, either without comment or with a <gi scheme="MEI">sic</gi> element to indicate the error is not a transcription error in the encoding:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample228.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>If the encoder elects to record the original source text and provide a correction for the sake of transparency, both <gi scheme="MEI">sic</gi> and <gi scheme="MEI">corr</gi> may be used, wrapped in a <gi scheme="MEI">choice</gi> element. The order of the <gi scheme="MEI">sic</gi> and <gi scheme="MEI">corr</gi> elements is not significant:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample229.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>An indication of the person or agency responsible for the emendation can be provided as follows:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve" valid="feasible"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample230.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>Here the <att>resp</att> attribute has been used to indicate responsibility for the correction. Its value (<val>#editTrans.JK</val>) is an example of the pointer values discussed in section <ptr target="#linkingdata"/>. In this case, the <att>resp</att> attribute points to a <gi scheme="MEI">name</gi> element within the metadata header, but any element might be indicated in this way, if the correction has been taken from some other source. The <att>resp</att> attribute is available for all elements which are members of the <ident type="class">att.common</ident> class (through <ident type="class">att.responsibility</ident>). The <ident type="class">att.edit</ident> class makes available a <att>cert</att> attribute (through <ident type="class">att.evidence</ident>), which may be used to indicate the degree of editorial confidence in a particular correction, as in the following example:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample231.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>Where, as here, the correction takes the form of amending information present in the text being encoded, the encoder should use the <gi scheme="MEI">corr</gi> element. Where the correction is present in the text being encoded, and consists of some combination of visible additions and deletions, the elements <gi scheme="MEI">add</gi> and / or <gi scheme="MEI">del</gi> should be used. For additional information on the use of <gi scheme="MEI">add</gi> and <gi scheme="MEI">del</gi>, see section <ptr target="#edittransAddDel"/>. Where the correction takes the form of an addition of material not present in the original because of physical damage or illegibility, the <gi scheme="MEI">supplied</gi> element may be used. Where the ‘correction’ is simply a matter of expanding abbreviated notation, the <gi scheme="MEI">expan</gi> element may be used.</p>
               </div>
               <div xml:id="edittransReg" type="div3">
                  <head>Regularization and Normalization</head>
                  <p>When the musical source makes extensive use of unusual symbol shapes or non-standard notation features, it may be desirable for a number of reasons to regularize it; that is, provide ‘standard’ or ‘regularized’ forms that are equivalent to the non-standard forms.</p>
                  <p>As with other such changes to the source text, the changes may be made silently (in which case the MEI header should still specify the types of silent changes made) or may be explicitly marked using the following elements:</p>
                  <p>
                     <specList>
                        <specDesc key="reg"/>
                        <specDesc key="orig"/>
                        <specDesc key="choice"/>
                     </specList>
                  </p>
                  <p>Consider this traditional soprano clef appearing somewhere in the course of a musical piece:</p>
                  <p>
                     <figure>
                        <head>Soprano clef from the begin of Heinrich Schütz’ St. Matthew’s Passion.</head>
                        <graphic url="../images/modules/edittrans/schuetz_sopranoclef.png"/>
                     </figure>
                  </p>
                  <p>An encoder may choose to preserve this original clef, but flag it as nonstandard from the perspective of current practice by using the <gi scheme="MEI">orig</gi> element with no attributes specified, as follows:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample232.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>Alternatively, the encoder may indicate that the clef has been modernized into a G-clef by using the <gi scheme="MEI">reg</gi> element with no attributes specified, as follows:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample233.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>As another alternative, the encoder may encode both the old and modernized shapes, so that applications may render both at the reader’s will:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample234.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>As described above, the <att>resp</att> attribute may be used to specify the agent responsible for the regularization.</p>
               </div>
               <div xml:id="edittransAddDelOmissions" type="div3">
                  <head>Additions, Deletions, and Omissions</head>
                  <p>The following elements are used to indicate when single notational symbols have been omitted from, added to, or marked for deletion from, a musical text. Like the other editorial elements described in this chapter, they allow for a wide range of editorial practices:</p>
                  <p>
                     <specList>
                        <specDesc key="gap"/>
                        <specDesc key="unclear"/>
                        <specDesc key="att.reasonIdent" atts="reason"/>
                        <specDesc key="add"/>
                        <specDesc key="del"/>
                     </specList>
                  </p>
                  <div xml:id="edittransOmission" type="div4">
                     <head>Omissions, Unclear Readings, Damage, and Supplied Readings</head>
                     <p>Encoders may choose to omit parts of the source for reasons ranging from illegibility, (making transcription difficult or impossible), to editorial policy, <abbr>e.g.</abbr>, systematic exclusion of poetry or prose from an encoding. The full details of the policy decisions concerned should be documented in the MEI header (see section <ptr target="#headerEncodingDescription"/>). Each place in the text at which omission has taken place should be marked with a <gi scheme="MEI">gap</gi> element, optionally with further information about the reason for the omission, its extent, and the person or agency responsible for it, as in the following examples:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample235.txt" parse="text"/></egXML>
                        </figure>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample236.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>Note that the extent of the gap may be marked precisely using attributes <att>unit</att> and <att>extent</att>.</p>
                     <p>Unlike TEI, MEI does not offer a <hi rend="italic">desc</hi> element for further description of the reason for a gap. Instead, an <gi scheme="MEI">annot</gi> may refer to the gap via its <att>startid</att>, <att>endid</att>, or <att>plist</att> attributes and provide additional information.</p>
                     <p>The <gi scheme="MEI">unclear</gi> element is used to mark passages in the original which cannot be read with confidence, or about which the transcriber is uncertain for other reasons, as for example when transcribing an illegible source. Its <att>reason</att> and <att>resp</att> attributes are used, as with the <gi scheme="MEI">gap</gi> element, to indicate the cause of uncertainty and the person responsible for the conjectured reading.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample237.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>Where the difficulty in transcription arises from an identifiable cause, the <att>agent</att> attribute signifies the causative agent. The <att>cert</att> attribute signifies the degree of certainty ascribed to the transcription of the text contained within the <gi scheme="MEI">unclear</gi> element. Where the difficulty in transcription arises from action (partial deletion, etc.) assignable to an identifiable hand, the <att>hand</att> attribute may record the hand responsible for the action.</p>
                     <p>When the reason for a gap in the encoding is damage of the document carrier (the paper on which the document is written, for example), the <gi scheme="MEI">damage</gi> element should be used instead of the <gi scheme="MEI">gap</gi> element. In the case of damage resulting from an identifiable cause, the <att>agent</att> attribute signifies the causative agent. The <att>degree</att> attribute signifies the degree of damage according to a convenient scale. A <gi scheme="MEI">damage</gi> tag with this attribute should only be used where the text may be read with some confidence; data supplied from other sources should be tagged as <gi scheme="MEI">supplied</gi>. The <att>extent</att> attribute indicates approximately how much text is in the damaged area, in notes, measures, inches, or any appropriate unit, where this cannot be deduced from the contents of the tag. For example, the damage may span structural divisions in the text so that the tag must then be empty of content. In the case of damage (deliberate defacement, etc.) assignable to an identifiable hand, the <att>hand</att> attribute signifies the hand responsible for the damage.</p>
                     <p>Sometimes the editor provides information not present in the source material. These conjectures or emendations are marked up in MEI using the <gi scheme="MEI">supplied</gi> element.</p>
                     <p>The following example demonstrates the use of the <gi scheme="MEI">supplied</gi> element in combination with <gi scheme="MEI">gap</gi> within <gi scheme="MEI">subst</gi>:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample238.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>When the presumed loss of text arises from an identifiable cause, <att>agent</att> signifies the causative agent. When the presumed loss of text arises from action (partial deletion, etc.) assignable to an identifiable hand, the <att>hand</att> attribute signifies the hand responsible for the action. The <att>reason</att> attribute indicates why the text has to be supplied, <abbr>e.g.</abbr>, 'overbinding', 'faded ink', 'lost folio', 'omitted in original', etc. The <att>source</att> attribute contains the source of the supplied text. The editor(s) responsible for supplied material may be recorded in the <att>resp</att> attribute. The value of <att>resp</att> must point to one or more identifiers declared in the document header. The <att>cert</att> attribute signifies the degree of certainty ascribed to the supplied material.</p>
                  </div>
                  <div xml:id="edittransAddDel" type="div4">
                     <head>Additions and Deletions</head>
                     <p>The <gi scheme="MEI">add</gi> and <gi scheme="MEI">del</gi> elements may be used to record where material has been added or deleted in the source material.</p>
                     <p>The following example demonstrates the usage of <gi scheme="MEI">add</gi> to mark up a note being added to an existing chord:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample239.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>The next example shows how <gi scheme="MEI">del</gi> may be used to capture the information that two measures have been cancelled. As seen in this example, the <att>rend</att> attribute is used to specify the method of deletion.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample240.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>Additional information for both elements may be specified using attributes. Whereas the <att>hand</att> attribute marks responsibility for the textual change, the <att>resp</att> attribute is used to refer to the editor who identified this textual change as such. The <att>cert</att> attribute signifies the degree of certainty ascribed to the identification of the hand of the deletion or addition.</p>
                     <p>The <gi scheme="MEI">add</gi> element should not be used to mark editorial changes, such as supplying a note omitted by mistake from the source text or a passage present in another source. In these cases, either the <gi scheme="MEI">corr</gi> or <gi scheme="MEI">supplied</gi> tags should be used instead.</p>
                  </div>
                  <div xml:id="edittransSubst" type="div4">
                     <head>Substitutions, Restorations, and Handshifts</head>
                     <p>When several interventions to the musical text are to be regarded as a single action, they may be grouped using the <gi scheme="MEI">subst</gi> element. The most common combination is a replacement of portions of the musical text using both the <gi scheme="MEI">add</gi> and <gi scheme="MEI">del</gi> element, as seen in the following example:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample241.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>An intervention closely related to substitution is the restoration of a previously deleted section. For this purpose MEI offers the <gi scheme="MEI">restore</gi> element, which may contain a <gi scheme="MEI">del</gi> or other content directly.</p>
                     <p>The following example illustrates an instance where a lyric was cancelled and later restored by overwriting it:</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample242.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>The <att>desc</att> attribute gives a prose description of the means of restoration. The <att>cert</att> attribute signifies the degree of certainty ascribed to the identification of the hand of the restoration. The <att>type</att> attribute may be used to indicate the action cancelled by the restoration. The <att>resp</att> attribute contains an ID reference to an element containing the name of the editor or transcriber responsible for identifying the hand of the restoration. The <att>hand</att> attribute signifies the hand of the agent which made the restoration.</p>
                     <p>MEI offers a <gi scheme="MEI">handShift</gi> milestone element that can be used to mark a change of scribe or scribal style.</p>
                     <p>The <att>character</att> attribute describes characteristics of the hand, particularly those related to the quality of the writing, <abbr>e.g.</abbr>, 'shaky', 'thick', regular'. A description of the tint or type of ink, <abbr>e.g.</abbr>, 'brown' or the writing medium, <abbr>e.g.</abbr>, 'pencil', may be placed in the <att>medium</att> attribute.</p>
                     <p>
                        <figure>
                           <head/>
                           <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/editTrans-sample243.txt" parse="text"/></egXML>
                        </figure>
                     </p>
                     <p>The new hand may be identified using the <att>new</att> attribute, while the previous hand may be recorded in the <att>old</att> attribute. The <att>resp</att> attribute contains an ID reference to an element containing the name of the editor or transcriber responsible for identifying the change of hand. The <att>cert</att> attribute signifies the degree of certainty ascribed to the identification of the new hand.</p>
                     <p>When using this element within a layer, it is important to ensure that all layers and staves are considered. Every <gi scheme="MEI">handShift</gi> affects only the content of its own layer and staff, even in the following measures. Therefore, there must be a separate <gi scheme="MEI">handShift</gi> for every <gi scheme="MEI">staff</gi> and <gi scheme="MEI">layer</gi>. This mechanism allows the description of shifts at timestamps that differ between each staff.</p>
                  </div>
               </div>
            </div>
            <div xml:id="genetic" type="div2">
               <head>Genetic Markup</head>
               <p>Genetic editions try to trace the creation of a (musical) work in all its recorded details, from the first sketches to the ‘final’ complete text. The aim of genetic textual criticism is to investigate compositional working and thinking processes - the genesis of compositions. In contrast to traditional scholarly editions, which focus on the constitution of a performable text of a work, Genetic Textual Criticism focuses on the process of production, the gradual elaboration of musical thoughts while writing. It is dependent on the availability of comprehensible traces of these writing processes. Genetic editions often have to deal with significant uncertainties, and they require a considerable amount of markup, as detailed below.</p>
               <div xml:id="geneticStates" type="div3">
                  <head>Encoding Genetic States</head>
                  <p>Leaving aside temporary breaks, a compositional process is continuous: the composer’s writing operations have happened in a strict order, which could be specified if his working would have been filmed. However, this exact order is rarely ever recoverable from the surviving manuscripts, prints or other materials. Instead, relative statements can be made – the red pencil must have been written after the brown ink etc. Instead of a continuous movie, scholars are often only able to reconstruct a slide show, reflecting certain recoverable states of the composition. Very often, those states have a local range only – the order of two states on one page may be known, as is the order of two other states on a second page. This doesn't necessarily allow to identify the succession of all four states.</p>
                  <p>MEI utilizes the <gi scheme="MEI">genDesc</gi> element to describe the recoverable genetic states of a work. It is nested inside <gi scheme="MEI">music</gi> and may contain a number of <gi scheme="MEI">genState</gi> elements.</p>
                  <p>
                     <specList>
                        <specDesc key="genDesc"/>
                        <specDesc key="genState"/>
                     </specList>
                  </p>
                  <p>A genetic description is used to bundle all known states of a work. The <att>ordered</att> attribute may be used to specify whether the order of child elements of the <gi scheme="MEI">genDesc</gi> matches their temporal order, or if their temporal order is unknown. As <gi scheme="MEI">genDesc</gi> may be self-nested, it is possible to specify the order of some states within a larger unordered set of genetic states, or to position a set of states with unknown temporal order in a larger ordered set.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/gendesc-1.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>In the above example, the temporal relation of states A, B and all of C is not known, but it is known that C1 precedes C2 and C3.</p>
                  <p>Even when the temporal order of a set of states is not fully recoverable, some arguments about relative chronology may be available. It is possible to encode these statements with the precision the editor feels comfortable with, utilizing the attributes <att>next</att> and <att>prev</att> (for immediate successors / predecessors), and <att>precedes</att> and <att>follows</att> (for relative successors / predecessors).</p>
                  <p>Genetic states can be further described by using any combination of the <gi scheme="MEI">desc</gi>, <gi scheme="MEI">date</gi>, and <gi scheme="MEI">respStmt</gi> children of <gi scheme="MEI">genState</gi>.</p>
               </div>
               <div xml:id="geneticReferences" type="div3">
                  <head>Referencing Genetic States</head>
                  <p>While the (relative) chronology of genetic states may be encoded using the <gi scheme="MEI">genDesc</gi> element (see <ptr target="#geneticStates"/>), the textual operations they manifest in are encoded using the regular <gi scheme="MEI">add</gi>, <gi scheme="MEI">del</gi>, etc. elements are used (see <ptr target="#edittransAddDelOmissions"/>). However, for a genetic edition these elements are linked to their corresponding <gi scheme="MEI">genState</gi> element using the <att>state</att> attribute.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/genetic-subst-1.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>In the example above, state X of the encoded work is established by the change from a C clef to a G clef. Other states preceding state X will read a C clef, while state X and succeeding states read a G clef. A genetic state of the work is constituted by performing all textual operations referencing that state, <abbr>i.e.</abbr>, by carrying out all additions, deletions and restorations.</p>
                  <p>The <att>instant</att> attribute on <gi scheme="MEI">del</gi> etc. allows to specify that corresponding modification has been carried out immediately after writing the original text, so that no separate genetic state has been established.</p>
                  <p>It is up to encoder to identify the appropriate level of granularity: In an ideal world, the writing or cancellation of a single note would constitute a new state. In practice, this level of detail isn't feasible, and the combination of multiple writing operations into larger logical operations seems inevitable. However, this may range from very large tasks (‘replacing the second movement of a symphony’) to very small ones (‘adding the slurs for the viola in measures 22 and 23’), depending on the intentions and scope of the encoding.</p>
               </div>
               <div xml:id="metatexts" type="div3">
                  <head>Encoding Metatexts</head>
                  <p>The arguments used to establish a chronological order of genetic states are sometimes found in external sources like letters, but very often they are to be found in the witnesses holding the musical text, even though they are typically not part of the text itself. Examples for such arguments are the writing medium, spacing, marginal notes, among others.</p>
                  <p>Some of these so-called ‘metatexts’ can be encoded using MEI, namely those that are written into the relevant sources. For this purpose, MEI offers the <gi scheme="MEI">metaMark</gi> element, as known from the TEI.</p>
                  <p>
                     <specList>
                        <specDesc key="metaMark"/>
                     </specList>
                  </p>
                  <p>A metaMark is provided as a ‘controlEvent’ (see <ptr target="#eventsControlevents"/>); as such, by convention, it should be encoded at the end of the <gi scheme="MEI">measure</gi> where it first occurs. It is highly recommended to specify the function of the metaMark using its <att>function</att> attribute, which may take the following values:</p>
                  <list>
                     <item>
                        <hi rend="italic">confirmation</hi>: confirmation of a previous textual decision; <abbr>i.e.</abbr>, cancellation of a deleted passage in a different writing medium.</item>
                     <item>
                        <hi rend="italic">addition</hi>: denoted material is to be inserted in the musical text.</item>
                     <item>
                        <hi rend="italic">deletion</hi>: denoted material is no longer part of the musical text.</item>
                     <item>
                        <hi rend="italic">substitution</hi>: denoted material is replaced, either by the musical text pointed at with the <att>target</att>  attribute or the musical content of the metaMark element itself.</item>
                     <item>
                        <hi rend="italic">clarification</hi>: attempt to clarify a potentially illegible or otherwise unclear part of the musical text.</item>
                     <item>
                        <hi rend="italic">question</hi>: marks a section of the musical text which is to be considered further.</item>
                     <item>
                        <hi rend="italic">investigation</hi>: marks a section of the musical text as an investigation of the consequences of certain compositional decisions or potential alternatives.</item>
                     <item>
                        <hi rend="italic">restoration</hi>: declares a formerly cancelled part of the musical text as valid again.</item>
                     <item>
                        <hi rend="italic">navigation</hi>: clarification of the reading order of the musical text.</item>
                  </list>
                  <p>Some metaMarks may have actual content, like marginal notes. This content may be transcribed inside the <gi scheme="MEI">metaMark</gi> element. It also has a <att>facs</att> attribute to refer back to the corresponding sections of a facsimile.</p>
                  <p>It is important to keep in mind that <gi scheme="MEI">metaMark</gi> elements do not encode the textual consequences they transport – this is an encoding of the sign, not of its meaning, which can be encoded in other elements like <gi scheme="MEI">restore</gi>.</p>
                  <p>
                     <figure>
                        <head>metaMarks in Beethoven’s op.59.3, p.18</head>
                        <graphic url="../images/modules/edittrans/metamarks-Beethoven-op59.3.png"/>
                     </figure>
                  </p>
                  <p>The above excerpt from a Beethoven manuscript holds a number of different metaMarks, some of which are encoded in the following examples:</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/metamark-1.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>The metaMark above captures the word ‘gut’ (good) Beethoven wrote below the red pencil, which indicates that the formerly deleted text of the two measures shown shall be kept.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/metamark-2.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>This <gi scheme="MEI">metaMark</gi> transcribes Beethoven’s marginal note explaining the same situation as above.</p>
                  <p>
                     <figure>
                        <head/>
                        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="code" xml:space="preserve"><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="../examples/editTrans/metamark-3.txt" parse="text"/></egXML>
                     </figure>
                  </p>
                  <p>This third metaMark covers one of the letters Beethoven inserted to clarify the pitch of that given note.</p>
               </div>
               <div xml:id="geneticPageChanges" type="div3">
                  <head>Genetic Changes at the Page Level</head>
                  <p>In genetic editions, it may also be of interest to trace when pages are added and / or removed from manuscripts. The general information about pages can be encoded using the <gi scheme="MEI">foliaDesc</gi> element, as described in <ptr target="#foliadesc"/>. It is possible to wrap the elements used there, including <gi scheme="MEI">patch</gi> and <gi scheme="MEI">cutout</gi> with editorial markup like <gi scheme="MEI">add</gi> and <gi scheme="MEI">del</gi>. These elements can then be used to reference <gi scheme="MEI">genState</gi> as described in <ptr target="#geneticReferences"/>.</p>
               </div>
            </div>
         </div>
      </body>
   </text>
</TEI>
