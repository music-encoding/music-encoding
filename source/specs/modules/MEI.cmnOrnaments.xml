<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<div xmlns="http://www.tei-c.org/ns/1.0"
     xmlns:tei="http://www.tei-c.org/ns/1.0"
     xmlns:xi="http://www.w3.org/2001/XInclude">
   <specGrp xml:id="module.MEI.cmnOrnaments">
      <moduleSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                  xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                  xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                  ident="MEI.cmnOrnaments"
                  mode="add"
                  predeclare="false">
         <desc>CMN ornament component declarations.</desc>
      </moduleSpec>
      <macroSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="data.ORNAM.cmn"
                 module="MEI.cmnOrnaments"
                 type="dt"
                 mode="add"
                 predeclare="false">
         <desc>CMN ornam attribute values: A = appogiatura (upper neighbor); a = acciaccatura (lower
        neighbor); b = bebung; I = ascending slide; i = descending slide; k = delayed turn; K =
        5-note turn; m = mordent (alternation with lower neighbor); M = inverted mordent
        (alternation with upper neighbor); N = Nachschlag (upper neighbor); n = Nachschlag (lower
        neighbor); S = turn; s = inverted turn; t = trill commencing on auxiliary note; T = trill
        commencing on principal note; O = generic / unspecified ornament.</desc>
         <content autoPrefix="true">
            <rng:data type="token">
               <rng:param name="pattern">[A|a|b|I|i|K|k|M|m|N|n|S|s|T|t|O]|(A|a|S|s|K|k)?(T|t|M|m)(I|i|S|s)?</rng:param>
            </rng:data>
         </content>
      </macroSpec>
      <classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="att.mordent.log"
                 module="MEI.cmnOrnaments"
                 type="atts"
                 mode="add"
                 predeclare="false">
         <desc>Logical domain attributes.</desc>
         <classes mode="replace">
            <memberOf key="att.controlEvent" mode="add"/>
            <memberOf key="att.startEndId" mode="add"/>
            <memberOf key="att.ornamentAccid" mode="add"/>
         </classes>
         <attList org="group">
            <attDef ident="form"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>Records semantic meaning, i.e., intended performance, of the mordent. The
              <att scheme="TEI">altsym</att>, <att scheme="TEI">glyph.name</att>, or <att scheme="TEI">glyph.num</att> attributes may be
            used to specify the appropriate symbol.</desc>
               <valList type="closed" mode="add">
                  <valItem ident="lower" mode="add">
                     <desc>Starts with the written note, followed by its lower neighbor, with a return to
                the written note. In modern practice, this is called an "inverted mordent" and
                indicated by a short wavy line with a vertical line through it.</desc>
                  </valItem>
                  <valItem ident="upper" mode="add">
                     <desc>Starts with the written note, followed by its upper neighbor, with a return to
                the principal note. In modern practice, the symbol lacks the vertical line used for
                the inverted form.</desc>
                  </valItem>
               </valList>
            </attDef>
            <attDef ident="long"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>When set to 'true', a double or long mordent, sometimes called a "pincé double",
            consisting of 5 notes, is indicated.</desc>
               <datatype minOccurs="1" maxOccurs="1">
                  <rng:ref name="data.BOOLEAN"/>
               </datatype>
            </attDef>
         </attList>
      </classSpec>
      <classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="att.ornamentAccid"
                 module="MEI.cmnOrnaments"
                 type="atts"
                 mode="add"
                 predeclare="false">
         <desc>Accidentals associated with ornaments.</desc>
         <attList org="group">
            <attDef ident="accidupper"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>Records the written accidental associated with an upper neighboring note.</desc>
               <datatype minOccurs="1" maxOccurs="1">
                  <rng:ref name="data.ACCIDENTAL.WRITTEN"/>
               </datatype>
            </attDef>
            <attDef ident="accidlower"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>Records the written accidental associated with a lower neighboring note.</desc>
               <datatype minOccurs="1" maxOccurs="1">
                  <rng:ref name="data.ACCIDENTAL.WRITTEN"/>
               </datatype>
            </attDef>
         </attList>
      </classSpec>
      <classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="att.ornamPresent"
                 module="MEI.cmnOrnaments"
                 type="atts"
                 mode="add"
                 predeclare="false">
         <desc>Attributes for marking the presence of an ornament.</desc>
         <attList org="group">
            <attDef ident="ornam"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>Indicates that this element has an attached ornament. If visual information about
            the ornament is needed, then one of the elements that represents an ornament (mordent,
            trill, or turn) should be employed.</desc>
               <datatype maxOccurs="unbounded" minOccurs="1">
                  <rng:ref name="data.ORNAM.cmn"/>
               </datatype>
            </attDef>
         </attList>
      </classSpec>
      <classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="att.trill.log"
                 module="MEI.cmnOrnaments"
                 type="atts"
                 mode="add"
                 predeclare="false">
         <desc>Logical domain attributes.</desc>
         <classes mode="replace">
            <memberOf key="att.controlEvent" mode="add"/>
            <memberOf key="att.duration.additive" mode="add"/>
            <memberOf key="att.ornamentAccid" mode="add"/>
            <memberOf key="att.startEndId" mode="add"/>
            <memberOf key="att.timestamp2.logical" mode="add"/>
         </classes>
      </classSpec>
      <classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="att.turn.log"
                 module="MEI.cmnOrnaments"
                 type="atts"
                 mode="add"
                 predeclare="false">
         <desc>Logical domain attributes.</desc>
         <classes mode="replace">
            <memberOf key="att.controlEvent" mode="add"/>
            <memberOf key="att.ornamentAccid" mode="add"/>
            <memberOf key="att.startId" mode="add"/>
         </classes>
         <attList org="group">
            <attDef ident="delayed"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>When set to 'true', the turn begins on the second half of the beat.</desc>
               <datatype minOccurs="1" maxOccurs="1">
                  <rng:ref name="data.BOOLEAN"/>
               </datatype>
            </attDef>
            <attDef ident="form"
                    usage="opt"
                    mode="add"
                    predeclare="false"
                    ns="http://www.tei-c.org/ns/1.0">
               <desc>Records meaning; i.e., intended performance, of the turn. The <att scheme="TEI">altsym</att>,
              <att scheme="TEI">glyph.name</att>, or <att scheme="TEI">glyph.num</att> attributes may be used to specify the
            appropriate symbol.</desc>
               <valList type="closed" mode="add">
                  <valItem ident="lower" mode="add">
                     <desc>Begins on the note below the written note.</desc>
                  </valItem>
                  <valItem ident="upper" mode="add">
                     <desc>Begins on the note above the written note.</desc>
                  </valItem>
               </valList>
            </attDef>
         </attList>
      </classSpec>
      <classSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                 xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                 xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                 ident="model.ornamentLike.cmn"
                 module="MEI.cmnOrnaments"
                 type="model"
                 mode="add"
                 predeclare="false">
         <desc>Groups CMN ornament elements.</desc>
         <classes mode="replace">
            <memberOf key="model.controlEventLike.cmn" mode="add"/>
         </classes>
      </classSpec>
      <elementSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                   xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                   xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                   ident="mordent"
                   module="MEI.cmnOrnaments"
                   mode="add"
                   predeclare="false"
                   ns="http://www.tei-c.org/ns/1.0">
         <desc>An ornament indicating rapid alternation of the main note with a secondary note, usually
        a step below, but sometimes a step above. <!--See Read, p. 245-246.-->
      </desc>
         <classes mode="replace">
            <memberOf key="att.common" mode="add"/>
            <memberOf key="att.facsimile" mode="add"/>
            <memberOf key="att.mordent.log" mode="add"/>
            <memberOf key="att.mordent.vis" mode="add"/>
            <memberOf key="att.mordent.ges" mode="add"/>
            <memberOf key="att.mordent.anl" mode="add"/>
            <memberOf key="model.ornamentLike.cmn" mode="add"/>
         </classes>
         <content autoPrefix="true">
            <rng:empty/>
         </content>
         <constraintSpec ident="mordent_start-type_attributes_required"
                         scheme="isoschematron"
                         mode="add"
                         predeclare="false">
            <constraint>
               <sch:rule context="mei:mordent">
                  <sch:assert test="@startid or @tstamp or @tstamp.ges or @tstamp.real">Must have one of
              the attributes: startid, tstamp, tstamp.ges or tstamp.real.</sch:assert>
               </sch:rule>
            </constraint>
         </constraintSpec>
         <remarks>
            <p part="N">The starting point of the mordent may be indicated by either a <att scheme="TEI">startid</att>,
            <att scheme="TEI">tstamp</att>, <att scheme="TEI">tstamp.ges</att>, or <att scheme="TEI">tstamp.real</att> attribute. It is a
          semantic error not to specify one of these attributes.</p>
         </remarks>
      </elementSpec>
      <elementSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                   xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                   xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                   ident="trill"
                   module="MEI.cmnOrnaments"
                   mode="add"
                   predeclare="false"
                   ns="http://www.tei-c.org/ns/1.0">
         <desc>Rapid alternation of a note with another (usually at the interval of a second
        above).</desc>
         <classes mode="replace">
            <memberOf key="att.common" mode="add"/>
            <memberOf key="att.facsimile" mode="add"/>
            <memberOf key="att.trill.log" mode="add"/>
            <memberOf key="att.trill.vis" mode="add"/>
            <memberOf key="att.trill.ges" mode="add"/>
            <memberOf key="att.trill.anl" mode="add"/>
            <memberOf key="model.ornamentLike.cmn" mode="add"/>
         </classes>
         <content autoPrefix="true">
            <rng:empty/>
         </content>
         <constraintSpec ident="trill_start-type_attributes_required"
                         scheme="isoschematron"
                         mode="add"
                         predeclare="false">
            <constraint>
               <sch:rule context="mei:trill">
                  <sch:assert test="@startid or @tstamp or @tstamp.ges or @tstamp.real">Must have one of
              the attributes: startid, tstamp, tstamp.ges or tstamp.real.</sch:assert>
               </sch:rule>
            </constraint>
         </constraintSpec>
         <remarks>
            <p part="N">The interval between the main and auxiliary notes is usually understood to be diatonic
          unless altered by an accidental. The starting note of the trill; i.e., the written one or
          the ornamenting one, and the speed of alternation depends on performance practice. The
          starting point of the trill may be indicated by either a <att scheme="TEI">startid</att>,
            <att scheme="TEI">tstamp</att>, <att scheme="TEI">tstamp.ges</att>, or <att scheme="TEI">tstamp.real</att> attribute, while the
          ending point may be recorded by either a <att scheme="TEI">dur</att>, <att scheme="TEI">dur.ges</att>,
            <att scheme="TEI">endid</att>, or <att scheme="TEI">tstamp2</att> attribute. It is a semantic error not to specify
          a starting point attribute.</p>
         </remarks>
      </elementSpec>
      <elementSpec xmlns:rng="http://relaxng.org/ns/structure/1.0"
                   xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                   xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
                   ident="turn"
                   module="MEI.cmnOrnaments"
                   mode="add"
                   predeclare="false"
                   ns="http://www.tei-c.org/ns/1.0">
         <desc>An ornament consisting of four notes — the upper neighbor of the written note, the
        written note, the lower neighbor, and the written note.</desc>
         <classes mode="replace">
            <memberOf key="att.common" mode="add"/>
            <memberOf key="att.facsimile" mode="add"/>
            <memberOf key="att.turn.log" mode="add"/>
            <memberOf key="att.turn.vis" mode="add"/>
            <memberOf key="att.turn.ges" mode="add"/>
            <memberOf key="att.turn.anl" mode="add"/>
            <memberOf key="model.ornamentLike.cmn" mode="add"/>
         </classes>
         <content autoPrefix="true">
            <rng:empty/>
         </content>
         <constraintSpec ident="turn_start-type_attributes_required"
                         scheme="isoschematron"
                         mode="add"
                         predeclare="false">
            <constraint>
               <sch:rule context="mei:turn">
                  <sch:assert test="@startid or @tstamp or @tstamp.ges or @tstamp.real">Must have one of
              the attributes: startid, tstamp, tstamp.ges or tstamp.real.</sch:assert>
               </sch:rule>
            </constraint>
         </constraintSpec>
         <remarks>
            <p part="N">See Read, p. 246-247. Whether the turn is accented or unaccented may be inferred from the
          timestamp — accented turns occur directly on the affected beat, unaccented ones do
          not.</p>
         </remarks>
      </elementSpec>
   </specGrp>
</div>
